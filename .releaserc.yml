tagFormat: "${version}"
plugins:
  - "@semantic-release/commit-analyzer"
  - "@semantic-release/release-notes-generator"
  - "@semantic-release/changelog"
  -
    - "@semantic-release/exec"
    - publishCmd: |
        git tag -a -f ${nextRelease.version} ${nextRelease.version} -F CHANGELOG.md
        git push --force origin ${nextRelease.version}
        ./gradlew shadowJar --parallel || ./gradlew shadowJar --parallel || exit 1
        ./gradlew releaseKotlinMavenOnMavenCentralNexus --parallel || exit 2
        ./gradlew orchidDeploy || ./gradlew orchidDeploy || exit 3
        ./gradlew publishKotlinMavenPublicationToGithubRepository --continue || true
  -
    - "@semantic-release/github"
    - "assets":
      - "path": "build/shadow/*-all.jar"
        "label": "Executable Jars"
  - "@semantic-release/git"
